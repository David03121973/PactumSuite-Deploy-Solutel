import{_ as w}from"./BM2ibBGv.js";import{_ as y,N as k}from"./B2AczXHm.js";import{S as C}from"./CC2Sf2Ne.js";import{_ as M,r as u,o as V,y as c,C as p,F as m,A as e,G as j,B as v,q as l,n as S,z as x}from"#entry";const z={class:"min-h-screen flex flex-col bg-gradient-to-br via-secondary/40 from-accent/30 to-neutral"},B={key:0,class:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[9999] w-full max-w-md px-4 pointer-events-none"},$={class:"mt-8 md:mt-0 flex-1 flex flex-col"},N={class:"flex-1 flex flex-col items-center justify-center px-4"},P={class:"grid grid-cols-1 md:grid-cols-5 gap-8 max-w-7xl w-full mb-12"},T={key:0,class:"absolute -top-2 -right-2 bg-danger text-neutral text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center shadow-lg"},H={class:"w-full py-6 text-center text-dark text-sm bg-transparent mt-auto"},I={__name:"index",setup(E){const f=()=>l("/login"),a=s=>{localStorage.getItem("token")?l(`/${s}`):l("/login")},o=u(null),n=u(0),g=async()=>{const s=localStorage.getItem("token");if(s)try{o.value={title:"Verificando Contratos",description:"Comprobando si hay contratos próximos a vencer...",type:"warning",persistent:!1};const t=S(),r=await fetch(`${t.public.backendHost}/contrato/proximos-a-vencer`,{method:"GET",headers:{Authorization:s}});if(r.status===401){o.value={title:"Sesión Expirada",description:"Tu sesión ha expirado. Por favor, inicia sesión nuevamente.",type:"warning",persistent:!1},localStorage.removeItem("token"),localStorage.removeItem("user"),setTimeout(()=>{l("/")},3e3);return}if(r.status===403){o.value={title:"Acceso Denegado",description:"No tienes permisos para realizar esta acción o acceder a esta información.",type:"error",persistent:!1};return}const i=await r.json();if(i.count>0){const h=i.data.map(d=>d.entidad?.nombre).filter(d=>d),b=[...new Set(h)].join(", ");n.value=i.count,o.value={title:"Contratos Próximos a Vencer",description:`Hay ${i.count} contrato(s) próximo(s) a vencer de las entidades: ${b}`,type:"warning",persistent:!0}}else n.value=0,o.value={title:"Sin Contratos Próximos a Vencer",description:"No hay contratos próximos a vencer en este momento.",type:"success",persistent:!1}}catch(t){console.error("Error al verificar contratos próximos a vencer:",t),o.value={title:"Error de Verificación",description:"No se pudo verificar los contratos próximos a vencer.",type:"error",persistent:!1}}};return V(()=>{g()}),(s,t)=>(x(),c("div",z,[p(C,{title:"Inicio - Pactum",description:"La plataforma integral para la gestión eficiente de contratos, entidades y trabajadores.",canonical:"/"}),p(k),o.value?(x(),c("div",B,[p(y,{title:o.value.title,description:o.value.description,type:o.value.type,persistent:o.value.persistent,onClose:t[0]||(t[0]=r=>o.value=null),class:"pointer-events-auto"},null,8,["title","description","type","persistent"])])):m("",!0),e("div",$,[t[13]||(t[13]=j('<header class="flex flex-col items-center justify-center py-12" data-v-4b3ca77d><img src="'+w+'" alt="Logo" class="h-40 w-40 shadow-md mb-4" data-v-4b3ca77d><h1 class="text-4xl md:text-5xl font-extrabold text-primary/80 mb-2 text-center drop-shadow" data-v-4b3ca77d>Pactum Suite</h1><h1 class="text-2xl md:text-3xl text-primary/80 mb-2 text-center drop-shadow" data-v-4b3ca77d>Beta Vercion (1.0)</h1><p class="text-lg md:text-xl text-dark/70 text-center max-w-2xl" data-v-4b3ca77d>La plataforma integral para la gestión eficiente de contratos, entidades, facturas y productos de tu organización orientado al comercio.</p></header>',1)),e("section",N,[e("div",P,[e("div",{onClick:t[1]||(t[1]=r=>a("contratos")),class:"bg-white rounded-xl shadow p-6 flex flex-col items-center hover:shadow-lg transition cursor-pointer group"},[...t[6]||(t[6]=[e("svg",{class:"h-12 w-12 text-primary mb-4 group-hover:brightness-90 transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),e("h3",{class:"text-xl font-semibold text-primary mb-2"},"Contratos",-1),e("p",{class:"text-dark text-center"},"Gestiona todos los contratos de tu organización.",-1)])]),e("div",{onClick:t[2]||(t[2]=r=>a("entidades")),class:"bg-white rounded-xl shadow p-6 flex flex-col items-center hover:shadow-lg transition cursor-pointer group relative"},[n.value>0?(x(),c("div",T,v(n.value),1)):m("",!0),t[7]||(t[7]=e("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[8]||(t[8]=e("h3",{class:"text-xl font-semibold text-primary mb-2"},"Entidades",-1)),t[9]||(t[9]=e("p",{class:"text-dark text-center"},"Administra proveedores, clientes y otras entidades.",-1))]),e("div",{onClick:t[3]||(t[3]=r=>a("facturas")),class:"bg-white rounded-xl shadow p-6 flex flex-col items-center hover:shadow-lg transition cursor-pointer group"},[...t[10]||(t[10]=[e("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),e("h3",{class:"text-xl font-semibold text-primary mb-2"},"Facturas",-1),e("p",{class:"text-dark text-center"},"Consulta y administra las facturas asociadas a contratos.",-1)])]),e("div",{onClick:t[4]||(t[4]=r=>a("productos")),class:"bg-white rounded-xl shadow p-6 flex flex-col items-center hover:shadow-lg transition cursor-pointer group"},[...t[11]||(t[11]=[e("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),e("h3",{class:"text-xl font-semibold text-primary mb-2"},"Productos",-1),e("p",{class:"text-dark text-center"},"Gestiona los productos que tienes para la venta y la existencia de estos.",-1)])]),e("div",{onClick:t[5]||(t[5]=r=>a("trabajadores")),class:"bg-white rounded-xl shadow p-6 flex flex-col items-center hover:shadow-lg transition cursor-pointer group"},[...t[12]||(t[12]=[e("svg",{class:"h-12 w-12 text-accent mb-4 group-hover:text-primary transition",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),e("h3",{class:"text-xl font-semibold text-primary mb-2"},"Trabajadores",-1),e("p",{class:"text-dark text-center"},"Registra y gestiona trabajadores autorizados y sus contratos.",-1)])])]),e("button",{onClick:f,class:"mt-4 px-8 py-3 bg-primary text-neutral text-lg font-semibold rounded-full shadow hover:bg-primary/90 transition"},"Iniciar sesión")]),e("footer",H," © "+v(new Date().getFullYear())+" Pactum Suite. Desarrollado por David Quintana Valdés, Soporte: +53 56242671 ",1)])]))}},F=M(I,[["__scopeId","data-v-4b3ca77d"]]);export{F as default};
