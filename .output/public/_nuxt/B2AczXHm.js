import{$ as N,_ as H,r as c,o as A,W as F,y as n,z as l,A as e,K as S,a0 as B,F as L,M as U,N as V,H as k,B as T,E as D,q as m,k as K}from"#entry";const P=N("/usuario.png"),W=N("/perfil.png"),X=N("/cerrar-sesion.png"),q=globalThis.setInterval,Y={class:"flex items-center justify-center w-8 h-16"},G=["d"],J={class:"container mx-auto flex justify-between items-center py-4 px-6 md:flex-col md:items-start md:justify-start md:py-6 md:h-full"},Q={class:"hidden md:flex md:items-center relative"},Z={class:"relative flex flex-col items-center justify-center"},ee={key:0,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-success text-neutral shadow z-10"},te={key:1,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-danger text-neutral shadow z-10"},se={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ne={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},le={class:"relative w-full h-full flex items-center justify-center"},re={key:0,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-green-500 text-white shadow z-10"},oe={key:1,class:"absolute left-1/2 top-full mt-0.5 -translate-x-1/2 px-2 py-0.5 rounded-full text-xs bg-red-500 text-white shadow z-10"},ae={class:"hidden md:flex flex-col w-full md:mt-4 overflow-y-auto",style:{"max-height":"calc(100vh - 200px)"}},ie={class:"flex flex-col space-y-4 w-full"},ue=["onClick"],ce=["src"],de={class:"text-[15px]"},ve={key:1,class:"md:hidden fixed top-16 left-0 w-full bg-secondary p-4 space-y-2 transform transition-all duration-300 ease-in-out"},fe=["onClick"],he=["src"],pe=1e4,ge={__name:"Navbar",setup(d){const a=c(null),s=c(!0),r=c(!1),o=c(!1),f=c(!1),v=c(!1);let h=null;const E=()=>{s.value=!s.value,s.value?g():_()},x=[{label:"Entidades",src:"/edificios.png",link:"/entidades"},{label:"Contratos",src:"/contrato.png",link:"/contratos"},{label:"Trabajadores",src:"/lanza-libre.png",link:"/trabajadores"},{label:"Productos",src:"/Productos.png",link:"/productos"},{label:"Entradas",src:"/agregar-producto.png",link:"/entradas"},{label:"Salidas",src:"/carritoDeCompras.png",link:"/salidas"},{label:"Facturas",src:"/Facturas.png",link:"/facturas"},{label:"Servicios",src:"/Servicios.png",link:"/servicios"},{label:"Tipos de Contratos",src:"/firmar.png",link:"/tipos-contratos"},{label:"Usuario",src:"/usuarios.png",link:"/usuarios"}],i=()=>{o.value=!o.value,o.value?_():g()},I=()=>{r.value=!r.value,r.value?_():g()};function b(){m("/")}function O(){localStorage.clear(),window.location.pathname==="/"?window.location.reload():m("/")}function z(){localStorage.getItem("usuario")?m("/perfil"):m("/login")}function $(M){const t=localStorage.getItem("token");s.value=!0,g(),t?m(M):m("/login")}A(()=>{localStorage.getItem("hasVisitedNavbar")||(s.value=!1,localStorage.setItem("hasVisitedNavbar","true")),f.value=!!localStorage.getItem("token"),p=t=>{if(!a.value)return;const u=t.target||t;a.value.contains(u)||(s.value||(s.value=!0),r.value&&(r.value=!1),o.value&&(o.value=!1))},y=t=>{(t.key==="Escape"||t.key==="Esc")&&(s.value||(s.value=!0),r.value&&(r.value=!1),o.value&&(o.value=!1))},document.addEventListener("click",p),document.addEventListener("touchstart",p),document.addEventListener("keydown",y),a.value&&a.value.addEventListener&&(a.value.addEventListener("click",C),a.value.addEventListener("touchstart",C)),h=q(()=>{s.value&&(v.value=!0,setTimeout(()=>{v.value=!1},1200))},5e3)});let p=null,y=null,w=null;function g(){w&&(clearTimeout(w),w=null)}function _(){g(),(!s.value||r.value||o.value)&&(w=setTimeout(()=>{s.value=!0,r.value=!1,o.value=!1,w=null},pe))}function C(){(!s.value||r.value||o.value)&&_()}return F(()=>{p&&(document.removeEventListener("click",p),document.removeEventListener("touchstart",p)),y&&document.removeEventListener("keydown",y),a.value&&a.value.removeEventListener&&(a.value.removeEventListener("click",C),a.value.removeEventListener("touchstart",C)),g(),h&&(clearInterval(h),h=null)}),(M,t)=>(l(),n("div",{class:"relative",ref_key:"navRoot",ref:a},[e("button",{onClick:E,class:"hidden md:flex items-center fixed z-50 bg-accent text-white rounded-r-full h-16 pr-4 shadow-lg hover:bg-accent-dark transition-all duration-300 ease-in-out",style:B({left:s.value?"0px":"255px",right:"auto",width:(s.value,"auto"),top:"200px"})},[e("div",Y,[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:S(["h-5 w-5",v.value?"chevron-wobble":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.value?"M13 5l7 7-7 7":"M11 19l-7-7 7-7"},null,8,G)],2))])],4),e("nav",{class:S(["fixed top-0 left-0 w-full bg-gradient-to-r from-primary to-secondary shadow-lg z-40 md:w-64 md:h-screen md:bg-gradient-to-b transition-all duration-300 ease-in-out",{"md:transform md:-translate-x-full":s.value}]),style:{"--nav-width":"16rem"}},[e("div",J,[e("div",Q,[e("h1",{onClick:b,class:"text-white text-3xl md:text-4xl font-sans font-bold tracking-tight mr-4 cursor-pointer select-none"}," PACTUM "),e("div",Z,[e("a",{onClick:z,class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white hover:bg-accent hover:border-accent transition flex items-center justify-center cursor-pointer"},[...t[2]||(t[2]=[e("img",{src:P,alt:"Usuario",class:"w-3/4 h-3/4 object-cover transition duration-300 hover:opacity-75 mix-blend-screen invert hover:invert(0)"},null,-1)])]),f.value?(l(),n("span",ee,"Conectado")):(l(),n("span",te,"Desconectado"))])]),t[6]||(t[6]=e("h1",{class:"text-white text-3xl font-sans font-bold tracking-tight md:hidden"}," SOLUTEL ",-1)),e("button",{onClick:I,class:"md:hidden text-white focus:outline-none transition duration-300"},[r.value?(l(),n("svg",ne,[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(l(),n("svg",se,[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])]))]),e("a",{onClick:i,class:"w-12 h-12 rounded-full overflow-hidden border-2 border-white hover:bg-accent hover:border-accent transition ml-6 flex items-center justify-center cursor-pointer md:hidden"},[e("div",le,[t[5]||(t[5]=e("img",{src:P,alt:"Usuario",class:"w-3/4 h-3/4 object-cover transition duration-300 hover:opacity-75 mix-blend-screen invert hover:invert(0)"},null,-1)),f.value?(l(),n("span",re,"Conectado")):(l(),n("span",oe,"Desconectado"))])]),e("div",ae,[e("div",ie,[(l(),n(U,null,V(x,(u,j)=>e("a",{key:j,href:"#",class:"text-white flex items-center px-4 py-3 rounded-lg border border-white transition group hover:bg-accent hover:text-black",onClick:k(R=>{$(u.link),s.value=!0},["prevent"])},[e("img",{src:u.src,alt:"",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,8,ce),e("span",de,T(u.label),1)],8,ue)),64))])])]),o.value?(l(),n("div",{key:0,class:"fixed inset-0 z-40",onClick:t[1]||(t[1]=u=>o.value=!1)},[e("div",{class:"fixed top-0 right-0 w-64 h-screen bg-secondary p-4 space-y-2 transform transition-all duration-300 ease-in-out",style:B({transform:o.value?"translateX(0)":"translateX(100%)"}),onClick:t[0]||(t[0]=k(()=>{},["stop"]))},[e("a",{href:"/perfil",class:"group flex items-center text-white py-2 rounded-lg hover:bg-accent transition group-hover:text-black",onClick:k(z,["prevent"])},[...t[7]||(t[7]=[e("img",{src:W,alt:"Perfil",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,-1),D(" Mi Perfil ",-1)])]),t[9]||(t[9]=e("hr",{class:"border-white"},null,-1)),e("a",{href:"/cerrar-sesion",class:"group flex items-center text-white py-2 rounded-lg hover:bg-accent transition group-hover:text-black",onClick:k(O,["prevent"])},[...t[8]||(t[8]=[e("img",{src:X,alt:"Cerrar Sesión",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,-1),D(" Cerrar Sesión ",-1)])])],4)])):L("",!0),r.value?(l(),n("div",ve,[(l(),n(U,null,V(x,(u,j)=>e("a",{key:j,href:"#",class:"flex items-center block text-white text-center py-2 rounded-lg transition group hover:bg-accent",onClick:k(R=>{$(u.link),r.value=!1},["prevent"])},[e("img",{src:u.src,alt:"",class:"w-6 h-6 mr-2 invert group-hover:invert-0 transition-all duration-300"},null,8,he),e("span",null,T(u.label),1)],8,fe)),64))])):L("",!0)],2)],512))}},Ce=H(ge,[["__scopeId","data-v-cfc8ed9a"]]),me={class:"mr-3"},xe={key:0,class:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},we={key:1,class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ke={key:2,class:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},be={class:"font-bold text-base mb-1"},ye={class:"text-sm"},Me={__name:"MessageBanner",props:{title:{type:String,required:!0},description:{type:String,required:!0},type:{type:String,default:"success"},persistent:{type:Boolean,default:!1}},emits:["close"],setup(d,{emit:a}){const s=d,r=a,o=c(100),f=c(null),v=c(null),h=K(()=>{switch(s.type){case"success":return"bg-green-50 border border-green-200 text-green-800";case"error":return"bg-red-50 border border-red-200 text-red-800";case"warning":return"bg-yellow-50 border border-yellow-200 text-yellow-800";default:return"bg-gray-50 border text-gray-800"}}),E=()=>{clearTimeout(f.value),clearInterval(v.value),r("close")};return A(()=>{if(!s.persistent){f.value=setTimeout(()=>{r("close")},5e3);const x=Date.now(),i=5e3;v.value=q(()=>{const I=Date.now()-x,b=Math.max(0,100-I/i*100);o.value=b,b<=0&&clearInterval(v.value)},50)}}),F(()=>{clearTimeout(f.value),clearInterval(v.value)}),(x,i)=>(l(),n("div",{class:S([h.value,"flex items-center p-4 rounded-lg mb-4 shadow-md relative overflow-hidden"])},[d.persistent?L("",!0):(l(),n("div",{key:0,class:"absolute top-0 left-0 h-1 bg-current opacity-30 transition-all duration-100 ease-linear",style:B({width:`${o.value}%`})},null,4)),e("button",{onClick:E,class:"absolute top-2 right-2 text-gray-400 hover:text-gray-700 focus:outline-none","aria-label":"Cerrar"},[...i[0]||(i[0]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("span",me,[d.type==="success"?(l(),n("svg",xe,[...i[1]||(i[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):d.type==="error"?(l(),n("svg",we,[...i[2]||(i[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):d.type==="warning"?(l(),n("svg",ke,[...i[3]||(i[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):L("",!0)]),e("div",null,[e("div",be,T(d.title),1),e("div",ye,T(d.description),1)])],2))}};export{Ce as N,Me as _};
